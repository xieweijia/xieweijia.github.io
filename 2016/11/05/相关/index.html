
 <!DOCTYPE HTML>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  
    <title>统计学三大相关性系数 | 生物信息菜鸟 | 维佳</title>
    <meta name="viewport" content="width=device-width, initial-scale=1,user-scalable=no">
    
    <meta name="author" content="WeiJia">
    

    
    <meta name="description" content="三大侠客（pearson, spearman, kendall）相信大伙儿平时读文献时，尤其是各种组学研究的文章，经常会有这样的疑问：在表征各组数据的相关性时，为什么有的地方用spearman correlation coefficient，有的地方又用pearson correlation coefficient？到底啥是相关性系数，怎么理解它的含义，这些不同的相关性系数到底有啥区别……如果你也">
<meta property="og:type" content="article">
<meta property="og:title" content="统计学三大相关性系数">
<meta property="og:url" content="http://xieweijia.com/2016/11/05/相关/index.html">
<meta property="og:site_name" content="生物信息菜鸟 | 维佳">
<meta property="og:description" content="三大侠客（pearson, spearman, kendall）相信大伙儿平时读文献时，尤其是各种组学研究的文章，经常会有这样的疑问：在表征各组数据的相关性时，为什么有的地方用spearman correlation coefficient，有的地方又用pearson correlation coefficient？到底啥是相关性系数，怎么理解它的含义，这些不同的相关性系数到底有啥区别……如果你也">
<meta property="og:image" content="http://ofu5ujfti.bkt.clouddn.com/640.webp.jpg">
<meta property="og:image" content="http://ofu5ujfti.bkt.clouddn.com/640.webp%20%281%29.jpg">
<meta property="og:image" content="http://ofu5ujfti.bkt.clouddn.com/640.webp%20%282%29.jpg">
<meta property="og:updated_time" content="2016-11-05T13:42:00.156Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="统计学三大相关性系数">
<meta name="twitter:description" content="三大侠客（pearson, spearman, kendall）相信大伙儿平时读文献时，尤其是各种组学研究的文章，经常会有这样的疑问：在表征各组数据的相关性时，为什么有的地方用spearman correlation coefficient，有的地方又用pearson correlation coefficient？到底啥是相关性系数，怎么理解它的含义，这些不同的相关性系数到底有啥区别……如果你也">
<meta name="twitter:image" content="http://ofu5ujfti.bkt.clouddn.com/640.webp.jpg">

    
    <link rel="alternative" href="/atom.xml" title="生物信息菜鸟 | 维佳" type="application/atom+xml">
    
    
    <link rel="icon" href="/img/favicon1.ico">
    
    
    <link rel="apple-touch-icon" href="/img/jacman.jpg">
    <link rel="apple-touch-icon-precomposed" href="/img/jacman.jpg">
    
    <link rel="stylesheet" href="/css/style.css">
</head>

  <body>
    <header>
      
<div>
		
			<div id="imglogo">
				<a href="/"><img src="/img/logo2.png" alt="生物信息菜鸟 | 维佳" title="生物信息菜鸟 | 维佳"/></a>
			</div>
			
			<div id="textlogo">
				<h1 class="site-name"><a href="/" title="生物信息菜鸟 | 维佳">生物信息菜鸟 | 维佳</a></h1>
				<h2 class="blog-motto">需要学习的东西太多，时间，时间！</h2>
			</div>
			<div class="navbar"><a class="navbutton navmobile" href="#" title="菜单">
			</a></div>
			<nav class="animated">
				<ul>
					<ul>
					 
						<li><a href="/">Home</a></li>
					
						<li><a href="/archives">Archives</a></li>
					
						<li><a href="/about">About</a></li>
					
						<li><a href="/share">share</a></li>
					
					<li>
 					
					<form class="search" action="//google.com/search" method="get" accept-charset="utf-8">
						<label>Search</label>
						<input type="search" id="search" name="q" autocomplete="off" maxlength="20" placeholder="搜索" />
						<input type="hidden" name="q" value="site:xieweijia.com">
					</form>
					
					</li>
				</ul>
			</nav>			
</div>
    </header>
    <div id="container">
      <div id="main" class="post" itemscope itemprop="blogPost">
  
	<article itemprop="articleBody"> 
		<header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2016/11/05/相关/" title="统计学三大相关性系数" itemprop="url">统计学三大相关性系数</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="WeiJia" target="_blank" itemprop="author">WeiJia</a>
		
  <p class="article-time">
    <time datetime="2016-11-05T13:41:51.327Z" itemprop="datePublished"> 发表于 2016-11-05</time>
    
  </p>
</header>
	<div class="article-content">
		
		<div id="toc" class="toc-article">
			<strong class="toc-title">文章目录</strong>
		
			<ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#三大侠客（pearson-spearman-kendall）"><span class="toc-number">1.</span> <span class="toc-text">三大侠客（pearson, spearman, kendall）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#person-correlation-coefficient（皮尔森相关性系数）"><span class="toc-number">2.</span> <span class="toc-text">person correlation coefficient（皮尔森相关性系数）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#spearman-correlation-coefficient（斯皮尔曼相关性系数）"><span class="toc-number">3.</span> <span class="toc-text">spearman correlation coefficient（斯皮尔曼相关性系数）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#kendall-correlation-coefficient（肯德尔相关性系数）"><span class="toc-number">4.</span> <span class="toc-text">kendall correlation coefficient（肯德尔相关性系数）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#应用实例"><span class="toc-number">5.</span> <span class="toc-text">应用实例</span></a></li></ol>
		
		</div>
		
		<h2 id="三大侠客（pearson-spearman-kendall）"><a href="#三大侠客（pearson-spearman-kendall）" class="headerlink" title="三大侠客（pearson, spearman, kendall）"></a>三大侠客（pearson, spearman, kendall）</h2><p>相信大伙儿平时读文献时，尤其是各种组学研究的文章，经常会有这样的疑问：在表征各组数据的相关性时，为什么有的地方用spearman correlation coefficient，有的地方又用pearson correlation coefficient？到底啥是相关性系数，怎么理解它的含义，这些不同的相关性系数到底有啥区别……如果你也有这样的疑惑，就请跟我们一起走进相关性系数的奇妙世界吧~</p>
<p>在我们自己做研究中也经常需要进行相关性分析，比如计算实验组与对照组之间的相关性、某几个对象随时间变化的相关性等等。总的来讲，三个相关性系数（pearson, spearman, kendall）反应的都是两个变量之间变化趋势的方向以及程度，其值范围为-1到+1，0表示两个变量不相关，正值表示正相关，负值表示负相关，值越大表示相关性越强。</p>
<h2 id="person-correlation-coefficient（皮尔森相关性系数）"><a href="#person-correlation-coefficient（皮尔森相关性系数）" class="headerlink" title="person correlation coefficient（皮尔森相关性系数）"></a>person correlation coefficient（皮尔森相关性系数）</h2><p>先拿公式开开胃：</p>
<p><img src="http://ofu5ujfti.bkt.clouddn.com/640.webp.jpg" alt=""></p>
<p>我们重点关注第一个等号后面的公式，最后面的是推导计算，暂时不用管它们。看到没有，两个变量(X, Y)的皮尔森相关性系数(ρX,Y)等于它们之间的协方差cov(X,Y)除以它们各自标准差的乘积(σX, σY)。</p>
<p>&gt;</p>
<ul>
<li>方差是表示一个变量的波动情况，方差越小表示数据越集中，越大表示数据越离散；</li>
<li>标准差：等于（或近似等于）方差的开根号；</li>
<li>协方差：可以理解成两个变量之间的方差，其取值可以是负无穷到正无穷，它可以表示两个变量之间的变化趋势，但是不能表示它们之间的程度。</li>
</ul>
<p>公式的分母是变量的标准差，这就意味着计算皮尔森相关性系数时，变量的标准差不能为0（分母不能为0），也就是说你的两个变量中任何一个的值不能都是相同的。如果没有变化，用皮尔森相关系数是没办法算出这个变量与另一个变量之间是不是有相关性的。</p>
<p>就好比我们想研究人跑步的速度与心脏跳动的相关性，如果你无论跑多快，心跳都不变（即心跳这个变量的标准差为0），或者你心跳忽快忽慢的，却一直保持一个速度在跑（即跑步速度这个变量的标准差为0），那我们都无法通过皮尔森相关性系数的计算来判断心跳与跑步速度到底相不相关。</p>
<p>我们再拔高一点，来看个更具普遍性的例子吧，其中的计算我们使用广受欢迎的R语言来运行，如果你手边也装了R语言，可以一起来做做看：</p>
<p>假设你现在做了个生物学实验，喜得以下两个变量：</p>
<blockquote>
<p>X1=c(1, 2, 3, 4, 5, 6)</p>
<p>Y1=c(0.3, 0.9, 2.7, 2, 3.5, 5)</p>
</blockquote>
<p>R代码实现：</p>
<pre><code>&gt; x1&lt;-c(1, 2, 3, 4, 5, 6)
&gt; y1&lt;-c(0.3, 0.9, 2.7, 2, 3.5, 5)
&gt; cor(x1,y1,method = &quot;pearson&quot;)
[1] 0.9481367
</code></pre><p>其值在0.9以上，哇，说明二者非常相关，比如验证了蛋白A表达量的变化，与蛋白B表达量的变化关系很大！拿到这种有统计学论证的结果你可能很开心。</p>
<p>然而，你的小伙伴可能却没这种好运气，由于实验操作不慎或者处理数据不小心，他得到了这样一个变量X2(1,1,1,1,1,1)，那么计算X2与Y1之间的皮尔森相关性系数会发生什么呢？</p>
<pre><code>&gt; x2&lt;-c(1,1,1,1,1,1)
&gt; cor(x2,y1,method = &quot;pearson&quot;)
[1] NA
Warning message:
In cor(x2, y1, method = &quot;pearson&quot;) : 标准差为零
</code></pre><p>看到没有，R运行会得到一个缺失值（NA），并且代码给你提醒：标准差为零（自己试着计算下X2的标准差是多少），这时候明白上面说的意思了吧！也就是说，X2里面的取值根本没有任何波动，那它与Y1的相关性也就没法用这种方法来计算了。</p>
<p>此外，从上面的公式我们知道，皮尔森相关性系数是协方差与标准差的比值，所以它对数据是有比较高的要求的：<br>&gt;<br>第一， 实验数据通常假设是成对的来自于正态分布的总体。为啥通常会假设为正态分布呢？因为我们在求皮尔森相关性系数以后，通常还会用t检验之类的方法来进行皮尔森相关性系数检验，而 t检验是基于数据呈正态分布的假设的。<br>&gt;<br>第二， 实验数据之间的差距不能太大，或者说皮尔森相关性系数受异常值的影响比较大。比如刚才心跳与跑步的例子，万一这个人的心脏不太好，跑到一定速度后承受不了，突发心脏病，那这时候我们会测到一个偏离正常值的心跳（过快或者过慢，甚至为0），如果我们把这个值也放进去进行相关性分析，它的存在会大大干扰计算的结果的。</p>
<p>在我们实际数据分析的过程中，以上这些对数据的要求就给我们的分析带来了一定的局限性。为了摆脱这些限制，第二种系数呼之而出。</p>
<h2 id="spearman-correlation-coefficient（斯皮尔曼相关性系数）"><a href="#spearman-correlation-coefficient（斯皮尔曼相关性系数）" class="headerlink" title="spearman correlation coefficient（斯皮尔曼相关性系数）"></a>spearman correlation coefficient（斯皮尔曼相关性系数）</h2><p>斯皮尔曼相关性系数，通常也叫斯皮尔曼秩相关系数。“秩”，可以理解成就是一种顺序或者排序，那么它就是根据原始数据的排序位置进行求解，这种表征形式就没有了求皮尔森相关性系数时那些限制。下面来看一下它的计算公式：<br><img src="http://ofu5ujfti.bkt.clouddn.com/640.webp%20%281%29.jpg" alt=""></p>
<p>计算过程就是：首先对两个变量（X, Y）的数据进行排序，然后记下排序以后的位置（X’, Y’），（X’, Y’）的值就称为秩次，秩次的差值就是上面公式中的di，n就是变量中数据的个数，最后带入公式就可求解结果。举个例子吧，假设我们实验的数据如下：<br><img src="http://ofu5ujfti.bkt.clouddn.com/640.webp%20%282%29.jpg" alt=""><br>带入公式，求得斯皮尔曼相关性系数：ρs= 1-6<em>(1+1+1+9)/6</em>35=0.657</p>
<p>也就是说，我们不用管X和Y这两个变量具体的值到底差了多少，只需要算一下它们每个值所处的排列位置的差值，就可以求出相关性系数了。这下理解起来是不是容易多了！还是用上面的数据，下面写下代码实现：</p>
<pre><code>&gt; x1&lt;-c(11, 490, 14, 43, 30, 3)
&gt; y1&lt;-c(2, 75, 3, 44, 7, 42)
&gt; cor(x1,y1,method = &quot;spearman&quot;)
[1] 0.6571429
</code></pre><p>即便在变量值没有变化的情况下，也不会出现像皮尔森系数那样分母为0而无法计算的情况。另外，即使出现异常值，由于异常值的秩次通常不会有明显的变化（比如过大或者过小，那要么排第一，要么排最后），所以对斯皮尔曼相关性系数的影响也非常小！</p>
<p>由于斯皮尔曼相关性系数没有那些数据条件要求，适用的范围就广多了。在我们生物实验数据分析中，尤其是在分析多组学交叉的数据中说明不同组学数据之间的相关性时，使用的频率很高。下次童鞋们读文献的时候再看到“spearman correlation coefficient”，是不是会觉得亲切多啦！</p>
<h2 id="kendall-correlation-coefficient（肯德尔相关性系数）"><a href="#kendall-correlation-coefficient（肯德尔相关性系数）" class="headerlink" title="kendall correlation coefficient（肯德尔相关性系数）"></a>kendall correlation coefficient（肯德尔相关性系数）</h2><p>肯德尔相关性系数，又称肯德尔秩相关系数，它也是一种秩相关系数，不过它所计算的对象是分类变量。分类变量可以理解成有类别的变量，可以分为无序的，比如性别（男、女）、血型（A、B、O、AB），以及有序的，比如肥胖等级（重度肥胖，中度肥胖、轻度肥胖、不肥胖）。通常需要求相关性系数的都是有序分类变量。</p>
<p>举个例子。比如评委对选手的评分（优、中、差等），我们想看两个（或者多个）评委对几位选手的评价标准是否一致；或者医院的尿糖化验报告，想检验各个医院对尿糖的化验结果是否一致，这时候就可以使用肯德尔相关性系数进行衡量。</p>
<p>由于数据情况不同，求得肯德尔相关性系数的计算公式不一样，一般有3种计算公式，在这里就不繁琐地列出计算公式了，直接给出R语言的计算函数：</p>
<p>还是用cor函数求，这时候把method这个参数设成“kendall”，这时我们假设老师对选手的评价等级—3表示优，2表示中，1表示差：</p>
<pre><code>&gt; x1&lt;-c(3, 1, 2, 2, 1, 3)
&gt; y1&lt;-c(1, 2, 3, 2,1, 1)
&gt; cor(x1,y1,method = &quot;kendall&quot;)
[1] -0.2611165
</code></pre><p>这时候就可以理解为两位老师对选手们的看法是呈相反趋势的，不过这种相反的程度不很大。</p>
<h2 id="应用实例"><a href="#应用实例" class="headerlink" title="应用实例"></a>应用实例</h2><p>在生命科学领域，有很多分析研究可以使用相关性系数来评估，比如以下一些实例：</p>
<ul>
<li><p>通过对基因表达谱数据进行研究，利用秩和检验的统计方法进行降维，然后计算待测样本与所有训练样本的相关系数，从而实现对癌症的有效诊断；</p>
</li>
<li><p>分析恶性肿瘤中人乳头瘤病毒(HPV)感染和表皮生长因子受体(EGFR)水平的相关性，通过行免疫组化及原位杂交(ISH)的方法检测患者HPV及EGFR阳性表达情况,并用Spearman相关系数分析其相关性；</p>
</li>
<li><p>对癌症患者和健康者的饮食结构进行了多年的回顾追踪性调查，采取了病理和数据相结合的方法进行分析，结果表明癌症的发病与高热量、高脂肪、低纤维素、低微量元素的饮食结构密切相关，并可以根据这些相关性分析提出有针对性的预防措施和饮食结构建议。</p>
</li>
</ul>
  
	</div>
		<footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/生物统计/">生物统计</a>
</div>


  <div class="article-tags">
  
  <span></span> <a href="/tags/三大相关性系数/">三大相关性系数</a>
  </div>

</div>



	<div class="article-share" id="share">
	
	  <div data-url="http://xieweijia.com/2016/11/05/相关/" data-title="统计学三大相关性系数 | 生物信息菜鸟 | 维佳" data-tsina="6055145068" class="share clearfix">
	  </div>
	
	</div>


</footer>

   	       
	</article>
	
<nav class="article-nav clearfix">
 
 <div class="prev" >
 <a href="/2016/11/10/极简生活/" title="极简主义生活">
  <strong>上一篇：</strong><br/>
  <span>
  极简主义生活</span>
</a>
</div>


<div class="next">
<a href="/2016/11/05/apply/"  title="R apply家族函数">
 <strong>下一篇：</strong><br/> 
 <span>R apply家族函数
</span>
</a>
</div>

</nav>

	
<section id="comments" class="comment">
	<div class="ds-thread" data-thread-key="2016/11/05/相关/" data-title="统计学三大相关性系数" data-url="http://xieweijia.com/2016/11/05/相关/"></div>
<!-- 多说评论框 end -->
<!-- 多说公共JS代码 start (一个网页只需插入一次) -->
<script type="text/javascript">
var duoshuoQuery = {short_name:"xieweijia"};
	(function() {
		var ds = document.createElement('script');
		ds.type = 'text/javascript';ds.async = true;
		ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
		ds.charset = 'UTF-8';
		(document.getElementsByTagName('head')[0] 
		 || document.getElementsByTagName('body')[0]).appendChild(ds);
	})();
	</script>
<!-- 多说公共JS代码 end -->
</section>


</div>  
      <div class="openaside"><a class="navbutton" href="#" title="显示侧边栏"></a></div>

  <div id="toc" class="toc-aside">
  <strong class="toc-title">文章目录</strong>
 
 <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#三大侠客（pearson-spearman-kendall）"><span class="toc-number">1.</span> <span class="toc-text">三大侠客（pearson, spearman, kendall）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#person-correlation-coefficient（皮尔森相关性系数）"><span class="toc-number">2.</span> <span class="toc-text">person correlation coefficient（皮尔森相关性系数）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#spearman-correlation-coefficient（斯皮尔曼相关性系数）"><span class="toc-number">3.</span> <span class="toc-text">spearman correlation coefficient（斯皮尔曼相关性系数）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#kendall-correlation-coefficient（肯德尔相关性系数）"><span class="toc-number">4.</span> <span class="toc-text">kendall correlation coefficient（肯德尔相关性系数）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#应用实例"><span class="toc-number">5.</span> <span class="toc-text">应用实例</span></a></li></ol>
 
  </div>

<div id="asidepart">
<div class="closeaside"><a class="closebutton" href="#" title="隐藏侧边栏"></a></div>
<aside class="clearfix">

  


  
<div class="categorieslist">
	<p class="asidetitle">分类</p>
		<ul>
		
		  
			<li><a href="/categories/R语言/" title="R语言">R语言<sup>3</sup></a></li>
		  
		
		  
			<li><a href="/categories/perl/" title="perl">perl<sup>4</sup></a></li>
		  
		
		  
			<li><a href="/categories/分子生物学/" title="分子生物学">分子生物学<sup>2</sup></a></li>
		  
		
		  
			<li><a href="/categories/生物信息学/" title="生物信息学">生物信息学<sup>3</sup></a></li>
		  
		
		  
			<li><a href="/categories/生物统计/" title="生物统计">生物统计<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/随笔感悟/" title="随笔感悟">随笔感悟<sup>3</sup></a></li>
		  
		
		</ul>
</div>


  
<div class="tagslist">
	<p class="asidetitle">标签</p>
		<ul class="clearfix">
		
			
				<li><a href="/tags/极简主义/" title="极简主义">极简主义<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/分子生物学第一章/" title="分子生物学第一章">分子生物学第一章<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/apply家族函数/" title="apply家族函数">apply家族函数<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/ceRNA/" title="ceRNA">ceRNA<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/mooc/" title="mooc">mooc<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/分子生物学综述/" title="分子生物学综述">分子生物学综述<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/R语言综述/" title="R语言综述">R语言综述<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/正则表达式/" title="正则表达式">正则表达式<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/生物信息综述/" title="生物信息综述">生物信息综述<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/目标/" title="目标">目标<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/基因测序/" title="基因测序">基因测序<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/三大相关性系数/" title="三大相关性系数">三大相关性系数<sup>1</sup></a></li>
			
		
			
		
		</ul>
</div>


  <div class="linkslist">
  <p class="asidetitle">友情链接</p>
    <ul>
        
          <li>
            
            	<a href="http://www.bio-info-trainee.com/" target="_blank" title="让我有了搭建自己博客的想法">生信菜鸟团</a>
            
          </li>
        
          <li>
            
            	<a href="http://www.iwhgao.com/" target="_blank" title="rabbit gao&#39;s blog">rabbit gao&#39;s blog</a>
            
          </li>
        
    </ul>
</div>

  


  <div class="weiboshow">
  <p class="asidetitle">新浪微博</p>
    <iframe width="100%" height="119" class="share_self"  frameborder="0" scrolling="no" src="http://widget.weibo.com/weiboshow/index.php?language=&width=0&height=119&fansRow=2&ptype=1&speed=0&skin=9&isTitle=1&noborder=1&isWeibo=0&isFans=0&uid=6055145068&verifier=05ba592a&dpc=1"></iframe>
</div>


</aside>
</div>
    </div>
    <footer><div id="footer" >
	
	<div class="line">
		<span></span>
		<div class="author"></div>
	</div>
	
	
	<section class="info">
		<p> 等我赚够了钱，享受了人间的荣华富贵，我就去 <br/>
			撒哈拉，布达拉，风餐露宿，风雨兼程，流浪，寻找诗和远方</p>
	</section>
	 
	<div class="social-font" class="clearfix">
		
		<a href="http://weibo.com/6055145068" target="_blank" class="icon-weibo" title="微博"></a>
		
		
		
		
		
		
		
		
		<a href="http://www.zhihu.com/people/weijia-98" target="_blank" class="icon-zhihu" title="知乎"></a>
		
		
		
	</div>
			
		
	    

		<p class="copyright">
		Powered by <a href="http://hexo.io" target="_blank" title="hexo">hexo</a> and Theme by <a href="https://github.com/wuchong/jacman" target="_blank" title="Jacman">Jacman</a> © 2017 
		
		<a href="/about" target="_blank" title="WeiJia">WeiJia</a>
		
		
		</p>
</div>
</footer>
    <script src="/js/jquery-2.0.3.min.js"></script>
<script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>
<script src="/js/jquery.qrcode-0.12.0.min.js"></script>

<script type="text/javascript">
$(document).ready(function(){ 
  $('.navbar').click(function(){
    $('header nav').toggleClass('shownav');
  });
  var myWidth = 0;
  function getSize(){
    if( typeof( window.innerWidth ) == 'number' ) {
      myWidth = window.innerWidth;
    } else if( document.documentElement && document.documentElement.clientWidth) {
      myWidth = document.documentElement.clientWidth;
    };
  };
  var m = $('#main'),
      a = $('#asidepart'),
      c = $('.closeaside'),
      o = $('.openaside');
  c.click(function(){
    a.addClass('fadeOut').css('display', 'none');
    o.css('display', 'block').addClass('fadeIn');
    m.addClass('moveMain');
  });
  o.click(function(){
    o.css('display', 'none').removeClass('beforeFadeIn');
    a.css('display', 'block').removeClass('fadeOut').addClass('fadeIn');      
    m.removeClass('moveMain');
  });
  $(window).scroll(function(){
    o.css("top",Math.max(80,260-$(this).scrollTop()));
  });
  
  $(window).resize(function(){
    getSize(); 
    if (myWidth >= 1024) {
      $('header nav').removeClass('shownav');
    }else{
      m.removeClass('moveMain');
      a.css('display', 'block').removeClass('fadeOut');
      o.css('display', 'none');
      
      $('#toc.toc-aside').css('display', 'none');
        
    }
  });
});
</script>

<script type="text/javascript">
$(document).ready(function(){ 
  var ai = $('.article-content>iframe'),
      ae = $('.article-content>embed'),
      t  = $('#toc'),
      ta = $('#toc.toc-aside'),
      o  = $('.openaside'),
      c  = $('.closeaside');
  if(ai.length>0){
    ai.wrap('<div class="video-container" />');
  };
  if(ae.length>0){
   ae.wrap('<div class="video-container" />');
  };
  c.click(function(){
    ta.css('display', 'block').addClass('fadeIn');
  });
  o.click(function(){
    ta.css('display', 'none');
  });
  $(window).scroll(function(){
    ta.css("top",Math.max(140,320-$(this).scrollTop()));
  });
});
</script>


<script type="text/javascript">
$(document).ready(function(){ 
  var $this = $('.share'),
      url = $this.attr('data-url'),
      encodedUrl = encodeURIComponent(url),
      title = $this.attr('data-title'),
      tsina = $this.attr('data-tsina'),
      description = $this.attr('description');
  var html = [
  '<div class="hoverqrcode clearfix"></div>',
  '<a class="overlay" id="qrcode"></a>',
  '<a href="https://www.facebook.com/sharer.php?u=' + encodedUrl + '" class="article-share-facebook" target="_blank" title="Facebook"></a>',
  '<a href="https://twitter.com/intent/tweet?url=' + encodedUrl + '" class="article-share-twitter" target="_blank" title="Twitter"></a>',
  '<a href="#qrcode" class="article-share-qrcode" title="微信"></a>',
  '<a href="http://widget.renren.com/dialog/share?resourceUrl=' + encodedUrl + '&srcUrl=' + encodedUrl + '&title=' + title +'" class="article-share-renren" target="_blank" title="人人"></a>',
  '<a href="http://service.weibo.com/share/share.php?title='+title+'&url='+encodedUrl +'&ralateUid='+ tsina +'&searchPic=true&style=number' +'" class="article-share-weibo" target="_blank" title="微博"></a>',
  '<span title="Share to"></span>'
  ].join('');
  $this.append(html);

  $('.hoverqrcode').hide();

  var myWidth = 0;
  function updatehoverqrcode(){
    if( typeof( window.innerWidth ) == 'number' ) {
      myWidth = window.innerWidth;
    } else if( document.documentElement && document.documentElement.clientWidth) {
      myWidth = document.documentElement.clientWidth;
    };
    var qrsize = myWidth > 1024 ? 200:100;
    var options = {render: 'image', size: qrsize, fill: '#2ca6cb', text: url, radius: 0.5, quiet: 1};
    var p = $('.article-share-qrcode').position();
    $('.hoverqrcode').empty().css('width', qrsize).css('height', qrsize)
                          .css('left', p.left-qrsize/2+20).css('top', p.top-qrsize-10)
                          .qrcode(options);
  };
  $(window).resize(function(){
    $('.hoverqrcode').hide();
  });
  $('.article-share-qrcode').click(function(){
    updatehoverqrcode();
    $('.hoverqrcode').toggle();
  });
  $('.article-share-qrcode').hover(function(){}, function(){
      $('.hoverqrcode').hide();
  });
});   
</script>



<script type="text/javascript">
  var duoshuoQuery = {short_name:"xieweijia"};
  (function() {
    var ds = document.createElement('script');
    ds.type = 'text/javascript';ds.async = true;
    ds.src = '//static.duoshuo.com/embed.js';
    ds.charset = 'UTF-8';
    (document.getElementsByTagName('head')[0] 
    || document.getElementsByTagName('body')[0]).appendChild(ds);
  })();
</script> 







<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
$(document).ready(function(){ 
  $('.article-content').each(function(i){
    $(this).find('img').each(function(){
      if ($(this).parent().hasClass('fancybox')) return;
      var alt = this.alt;
      if (alt) $(this).after('<span class="caption">' + alt + '</span>');
      $(this).wrap('<a href="' + this.src + '" title="' + alt + '" class="fancybox"></a>');
    });
    $(this).find('.fancybox').each(function(){
      $(this).attr('rel', 'article' + i);
    });
  });
  if($.fancybox){
    $('.fancybox').fancybox();
  }
}); 
</script>



<!-- Analytics Begin -->





<script type="text/javascript">var cnzz_protocol = (("https:" == document.location.protocol) ? " https://" : " http://");document.write(unescape("%3Cspan id='cnzz_stat_icon_1260701433'%3E%3C/span%3E%3Cscript src='" + cnzz_protocol + "s23.cnzz.com/z_stat.php%3Fid%3D1260701433' type='text/javascript'%3E%3C/script%3E"));</script>

<!-- Analytics End -->

<!-- Totop Begin -->

	<div id="totop">
	<a title="返回顶部"><img src="/img/scrollup.png"/></a>
	</div>
	<script src="/js/totop.js"></script>

<!-- Totop End -->

<!-- MathJax Begin -->
<!-- mathjax config similar to math.stackexchange -->


<!-- MathJax End -->

<!-- Tiny_search Begin -->

<!-- Tiny_search End -->

  </body>
</html>
